import{r as m,K as u,j as r,L as p}from"./app-BdYWQzMp.js";import{H as g}from"./Header-BKGyKcSR.js";function d(){var s,t;const e=document.querySelector('[role="tab"].gsc-refinementhActive');if(((t=(s=e==null?void 0:e.querySelector("span"))==null?void 0:s.textContent)==null?void 0:t.trim())!=="すべての検索結果")return;document.querySelectorAll('[role="tab"]').forEach(n=>{var a,i;((i=(a=n.querySelector("span"))==null?void 0:a.textContent)==null?void 0:i.trim())==="演奏会"&&n.click()})}const x=()=>(m.useEffect(()=>{const e=document.getElementById("google-cse-container");if(!e)return;e.innerHTML="",e.style.display="block";let c=null;const o=()=>{const t=setInterval(()=>{const n=document.querySelector(".gsc-results");n&&(clearInterval(t),d(),c=new MutationObserver(()=>{d()}),c.observe(n,{childList:!0,subtree:!0}))},300)},s=()=>{var t,n,l;(l=(n=(t=window.google)==null?void 0:t.search)==null?void 0:n.cse)!=null&&l.element&&(window.google.search.cse.element.render({div:"google-cse-container",tag:"searchresults-only"}),o())};if(window.__gcse)s();else{window.__gcse={parsetags:"explicit",callback:s};const t=document.createElement("script");t.src="https://cse.google.com/cse.js?cx=349714df9516f4648",t.async=!0,document.body.appendChild(t)}return()=>{e&&(e.innerHTML="",e.style.display="none"),c&&c.disconnect()}},[]),null),h=({authUser:e,canLogin:c,canRegister:o})=>{const{flash:s}=u().props;return r.jsxs("div",{className:"bg-[var(--color-background)]",children:[r.jsx(p,{title:"音すくい | トップページ"}),r.jsx(g,{authUser:e}),r.jsxs("main",{className:"pt-[148px] px-4 md:px-8 text-[var(--color-text-primary)]",children:[(s==null?void 0:s.message)&&r.jsx("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:s.message}),r.jsxs("div",{className:"",children:[r.jsxs("p",{className:"font-bold text-xl/[1.5]",children:["音楽カテゴリ・楽器を入力して、",r.jsx("br",{className:"sp"}),"イベントや演奏会情報を検索しよう!"]}),r.jsx("p",{className:"font-normal text-base/[1.7] mt-8px",children:"検索結果をタブ毎に絞り込むことができます。"})]}),r.jsx(x,{})]})]})};export{h as default};
